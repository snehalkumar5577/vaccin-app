{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomePage } from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomePageRoutingModule {}\r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      Vaccine Availability\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-header collapse=\\\"condense\\\">\\r\\n    <ion-toolbar>\\r\\n      <ion-title size=\\\"large\\\">Vaccine Availability</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  <form (ngSubmit)=\\\"logForm()\\\">\\r\\n    <ion-item>\\r\\n      <ion-label>Pincode</ion-label>\\r\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"pincode\\\" name=\\\"title\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Date</ion-label>\\r\\n      <ion-textarea [(ngModel)]=\\\"date\\\" name=\\\"description\\\"></ion-textarea>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Age</ion-label>\\r\\n      <ion-textarea [(ngModel)]=\\\"age\\\" name=\\\"description\\\"></ion-textarea>\\r\\n    </ion-item>\\r\\n    <button ion-button type=\\\"submit\\\" block>Submit</button>\\r\\n  </form>\\r\\n  <div id=\\\"container\\\">\\r\\n    <p>{{sessions}}</p>\\r\\n\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HomePage } from './home.page';\r\n\r\nimport { HomePageRoutingModule } from './home-routing.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HomePageRoutingModule\r\n  ],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule {}\r\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGhvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFFQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBQUY7O0FBR0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFBRjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUVBLGNBQUE7RUFFQSxTQUFBO0FBRkY7O0FBS0E7RUFDRSxxQkFBQTtBQUZGIiwiZmlsZSI6ImhvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICB0b3A6IDUwJTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbn1cclxuXHJcbiNjb250YWluZXIgc3Ryb25nIHtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XHJcbn1cclxuXHJcbiNjb250YWluZXIgcCB7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG5cclxuICBjb2xvcjogIzhjOGM4YztcclxuXHJcbiAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4jY29udGFpbmVyIGEge1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufSJdfQ== */\";","import { Component } from '@angular/core';\r\nimport { FCM } from 'cordova-plugin-fcm-with-dependecy-updated/ionic/ngx';\r\nimport { Platform } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage {\r\n  pincode: any;\r\n  date: any;\r\n  age: any;\r\n  sessions: String;\r\n  pushes: any = [];\r\n\r\n  constructor(private fcm: FCM, public plt: Platform) {\r\n    this.plt.ready()\r\n      .then(() => {\r\n        this.fcm.onNotification().subscribe(data => {\r\n          if (data.wasTapped) {\r\n            console.log(\"Received in background\");\r\n          } else {\r\n            console.log(\"Received in foreground\");\r\n          };\r\n        });\r\n\r\n        this.fcm.onTokenRefresh().subscribe(token => {\r\n          // Register your new token in your back-end if you want\r\n          // backend.registerToken(token);\r\n        });\r\n      })\r\n  }\r\n  subscribeToTopic() {\r\n    this.fcm.subscribeToTopic('enappd');\r\n  }\r\n  getToken() {\r\n    this.fcm.getToken().then(token => {\r\n      // Register your new token in your back-end if you want\r\n      // backend.registerToken(token);\r\n    });\r\n  }\r\n  unsubscribeFromTopic() {\r\n    this.fcm.unsubscribeFromTopic('enappd');\r\n  }\r\n\r\n  async logForm() {\r\n\r\n    var result = fetch('https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode=' + this.pincode + '&date=' + this.date)\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(function (myJson) {\r\n        //console.log(myJson);\r\n        return myJson\r\n      })\r\n      .then(function (myJson) {\r\n        var sessions = myJson.sessions\r\n        if (myJson.error){\r\n          console.log(myJson.error)\r\n          return myJson.error\r\n        }\r\n        if (sessions[0]){\r\n          console.log(sessions[0].name)\r\n          return sessions[0].name\r\n        }\r\n        return 'No slots available'        \r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error: \" + error);\r\n        return error;\r\n      });\r\n\r\n    function getResult() {\r\n      return result.then(function (res) {\r\n        return res\r\n      })\r\n    }\r\n\r\n    this.sessions = await getResult()\r\n\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}