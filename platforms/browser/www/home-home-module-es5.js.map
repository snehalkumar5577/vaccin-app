{"version":3,"sources":["webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.page.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","fcm","plt","pushes","ready","then","onNotification","subscribe","data","wasTapped","console","log","onTokenRefresh","token","subscribeToTopic","getToken","unsubscribeFromTopic","getResult","result","res","fetch","pincode","date","response","json","myJson","sessions","error","name","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,qBAAqB;AAAA;AAAA,O;;AAArBA,2BAAqB,6DAJjC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;ACfb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCkBFI,cAAc;AAAA;AAAA,O;;AAAdA,oBAAc,6DAT1B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,0EAJO,CADD;AAORI,oBAAY,EAAE,CAAC,mDAAD;AAPN,OAAT,CAS0B,GAAdD,cAAc,CAAd;;;;;;;;;;;;;;;;AClBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCSFE,QAAQ;AAOnB,0BAAoBC,GAApB,EAAqCC,GAArC,EAAoD;AAAA;;AAAA;;AAAhC,eAAAD,GAAA,GAAAA,GAAA;AAAiB,eAAAC,GAAA,GAAAA,GAAA;AAFrC,eAAAC,MAAA,GAAc,EAAd;AAGE,eAAKD,GAAL,CAASE,KAAT,GACGC,IADH,CACQ,YAAM;AACV,iBAAI,CAACJ,GAAL,CAASK,cAAT,GAA0BC,SAA1B,CAAoC,UAAAC,IAAI,EAAI;AAC1C,kBAAIA,IAAI,CAACC,SAAT,EAAoB;AAClBC,uBAAO,CAACC,GAAR,CAAY,wBAAZ;AACD,eAFD,MAEO;AACLD,uBAAO,CAACC,GAAR,CAAY,wBAAZ;AACD;;AAAA;AACF,aAND;;AAQA,iBAAI,CAACV,GAAL,CAASW,cAAT,GAA0BL,SAA1B,CAAoC,UAAAM,KAAK,EAAI,CAC3C;AACA;AACD,aAHD;AAID,WAdH;AAeD;;AAvBkB;AAAA;AAAA,iBAwBnB,4BAAmB;AACjB,iBAAKZ,GAAL,CAASa,gBAAT,CAA0B,QAA1B;AACD;AA1BkB;AAAA;AAAA,iBA2BnB,oBAAW;AACT,iBAAKb,GAAL,CAASc,QAAT,GAAoBV,IAApB,CAAyB,UAAAQ,KAAK,EAAI,CAChC;AACA;AACD,aAHD;AAID;AAhCkB;AAAA;AAAA,iBAiCnB,gCAAuB;AACrB,iBAAKZ,GAAL,CAASe,oBAAT,CAA8B,QAA9B;AACD;AAnCkB;AAAA;AAAA,iBAqCb,mBAAU;;0BA2BLC,S;;;;;AAAAA,+B,yBAAY;AACnB,+BAAOC,MAAM,CAACb,IAAP,CAAY,UAAUc,GAAV,EAAe;AAChC,iCAAOA,GAAP;AACD,yBAFM,CAAP;AAGD,uB;;AA7BGD,4B,GAASE,KAAK,CAAC,oFAAoF,KAAKC,OAAzF,GAAmG,QAAnG,GAA8G,KAAKC,IAApH,CAAL,CACVjB,IADU,CACL,UAAUkB,QAAV,EAAoB;AACxB,+BAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,uBAHU,EAIVnB,IAJU,CAIL,UAAUoB,MAAV,EAAkB;AACtB;AACA,+BAAOA,MAAP;AACD,uBAPU,EAQVpB,IARU,CAQL,UAAUoB,MAAV,EAAkB;AACtB,4BAAIC,QAAQ,GAAGD,MAAM,CAACC,QAAtB;;AACA,4BAAID,MAAM,CAACE,KAAX,EAAiB;AACfjB,iCAAO,CAACC,GAAR,CAAYc,MAAM,CAACE,KAAnB;AACA,iCAAOF,MAAM,CAACE,KAAd;AACD;;AACD,4BAAID,QAAQ,CAAC,CAAD,CAAZ,EAAgB;AACdhB,iCAAO,CAACC,GAAR,CAAYe,QAAQ,CAAC,CAAD,CAAR,CAAYE,IAAxB;AACA,iCAAOF,QAAQ,CAAC,CAAD,CAAR,CAAYE,IAAnB;AACD;;AACD,+BAAO,oBAAP;AACD,uBAnBU,WAoBJ,UAAUD,KAAV,EAAiB;AACtBjB,+BAAO,CAACC,GAAR,CAAY,YAAYgB,KAAxB;AACA,+BAAOA,KAAP;AACD,uBAvBU,C;;AA+BG,6BAAMV,SAAS,EAAf;;;AAAhB,2BAAKS,Q;;;;;;;;;AAEN;AAxEkB;;AAAA;AAAA,S;;;;gBARZ;;gBACA;;;;AAOI1B,cAAQ,6DALpB,gEAAU;AACT6B,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR,kEAFS;;AAAA,OAAV,CAKoB,GAAR9B,QAAQ,CAAR","file":"home-home-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomePage } from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomePageRoutingModule {}\r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      Vaccine Availability\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-header collapse=\\\"condense\\\">\\r\\n    <ion-toolbar>\\r\\n      <ion-title size=\\\"large\\\">Vaccine Availability</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  <form (ngSubmit)=\\\"logForm()\\\">\\r\\n    <ion-item>\\r\\n      <ion-label>Pincode</ion-label>\\r\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"pincode\\\" name=\\\"title\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Date</ion-label>\\r\\n      <ion-textarea [(ngModel)]=\\\"date\\\" name=\\\"description\\\"></ion-textarea>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Age</ion-label>\\r\\n      <ion-textarea [(ngModel)]=\\\"age\\\" name=\\\"description\\\"></ion-textarea>\\r\\n    </ion-item>\\r\\n    <button ion-button type=\\\"submit\\\" block>Submit</button>\\r\\n  </form>\\r\\n  <div id=\\\"container\\\">\\r\\n    <p>{{sessions}}</p>\\r\\n\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HomePage } from './home.page';\r\n\r\nimport { HomePageRoutingModule } from './home-routing.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HomePageRoutingModule\r\n  ],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule {}\r\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGhvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFFQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBQUY7O0FBR0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFBRjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUVBLGNBQUE7RUFFQSxTQUFBO0FBRkY7O0FBS0E7RUFDRSxxQkFBQTtBQUZGIiwiZmlsZSI6ImhvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICB0b3A6IDUwJTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbn1cclxuXHJcbiNjb250YWluZXIgc3Ryb25nIHtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XHJcbn1cclxuXHJcbiNjb250YWluZXIgcCB7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG5cclxuICBjb2xvcjogIzhjOGM4YztcclxuXHJcbiAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4jY29udGFpbmVyIGEge1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufSJdfQ== */\";","import { Component } from '@angular/core';\r\nimport { FCM } from 'cordova-plugin-fcm-with-dependecy-updated/ionic/ngx';\r\nimport { Platform } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage {\r\n  pincode: any;\r\n  date: any;\r\n  age: any;\r\n  sessions: String;\r\n  pushes: any = [];\r\n\r\n  constructor(private fcm: FCM, public plt: Platform) {\r\n    this.plt.ready()\r\n      .then(() => {\r\n        this.fcm.onNotification().subscribe(data => {\r\n          if (data.wasTapped) {\r\n            console.log(\"Received in background\");\r\n          } else {\r\n            console.log(\"Received in foreground\");\r\n          };\r\n        });\r\n\r\n        this.fcm.onTokenRefresh().subscribe(token => {\r\n          // Register your new token in your back-end if you want\r\n          // backend.registerToken(token);\r\n        });\r\n      })\r\n  }\r\n  subscribeToTopic() {\r\n    this.fcm.subscribeToTopic('enappd');\r\n  }\r\n  getToken() {\r\n    this.fcm.getToken().then(token => {\r\n      // Register your new token in your back-end if you want\r\n      // backend.registerToken(token);\r\n    });\r\n  }\r\n  unsubscribeFromTopic() {\r\n    this.fcm.unsubscribeFromTopic('enappd');\r\n  }\r\n\r\n  async logForm() {\r\n\r\n    var result = fetch('https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode=' + this.pincode + '&date=' + this.date)\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(function (myJson) {\r\n        //console.log(myJson);\r\n        return myJson\r\n      })\r\n      .then(function (myJson) {\r\n        var sessions = myJson.sessions\r\n        if (myJson.error){\r\n          console.log(myJson.error)\r\n          return myJson.error\r\n        }\r\n        if (sessions[0]){\r\n          console.log(sessions[0].name)\r\n          return sessions[0].name\r\n        }\r\n        return 'No slots available'        \r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error: \" + error);\r\n        return error;\r\n      });\r\n\r\n    function getResult() {\r\n      return result.then(function (res) {\r\n        return res\r\n      })\r\n    }\r\n\r\n    this.sessions = await getResult()\r\n\r\n  }\r\n\r\n\r\n}\r\n"]}